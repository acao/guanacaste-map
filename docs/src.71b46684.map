{"version":3,"sources":["src/config.js","src/components/popup.js","src/components/legend.js","src/components/compass.js","src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["MAP","style","center","zoom","ACCESS_TOKEN","LAYER_ID","SOURCE_LAYER","ANIMATION_DURATION","LEGEND_TITLE","SOURCE_TYPES","name","label","icon","LAYERS","color","shape","feature","properties","link","Estación","Image","description","symbolTypes","map","symbolType","type","join","config","DEFAULT_MAP","container","mapboxgl","accessToken","Map","Object","assign","window","popup","Popup","showPopup","setLngLat","geometry","coordinates","setHTML","addTo","on","flyTo","duration","e","features","setTimeout","addControl","FullscreenControl","createCompass","leftEl","document","querySelector","compass","createElement","innerHTML","onclick","appendChild","state","nav","NavigationControl","showCompass","scrollZoom","disable","layerList","getStyle","layers","filteredLayers","filter","layerName","layer","id","substring","legend","getElementById","handleFilter","layerOrSymbolType","isToggledOn","legendItem","classList","toggle","activeFilters","keys","key","setFilter","setLayoutProperty","noFilter","add","body","addEventListener","event","metaKey","ctrlKey","enable","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","i","length","module"],"mappings":"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","file":"src.71b46684.map","sourceRoot":"..","sourcesContent":["const MAP = {\n  // for creating mapboxgl.Map(). container defaults to 'map'\n  style: 'mapbox://styles/guanacaste/cjj079axn0aqu2so55fx6ln2x',\n  center: [-85.61365526723557, 10.838261234356153],\n  zoom: 9.619976883678385\n  //\"sprite\": \"mapbox://sprites/mapbox/bright-v8\"\n};\n\nconst ACCESS_TOKEN =\n  'pk.eyJ1IjoiZ3VhbmFjYXN0ZSIsImEiOiJjamowNzhuYnAwZXU2M2txczhsc21mbDVsIn0.amJMu3O1jfjcbg-B1qC7ww';\n\nexport default {\n  LAYER_ID: 'toggle-turismo',\n  SOURCE_LAYER: 'Turismo',\n  //FLY_TO_ZOOM_LEVEL: 9.619976883678385,\n  ANIMATION_DURATION: 2000,\n  LEGEND_TITLE: 'Puestos Estaciónes y Tourismos',\n  ACCESS_TOKEN,\n  MAP,\n  SOURCE_TYPES: [\n    {\n      name: 'biological',\n      label: 'Biological',\n      icon: `<svg><use href=\"assets/svg/information-11.svg\"></use></svg>`,\n      // color: 'blue'\n    },\n    {\n      name: 'tourist',\n      label: 'Touristo',\n      // color: 'red'\n    }\n  ],\n  LAYERS: {\n    'toggle-turismo': { label: 'Turismo', color: '#CCCC00' },\n    'toggle-unesco': { label: 'UNESCO', color: '#CCCC00', shape: 'line' },\n    'toggle-sectores':{ label: 'Sectores', color: '#449438', shape: 'square' }, \n    'toggle-ecosistemas':{ label: 'Ecosistemas', color: '#000000', shape: 'square' } \n  }\n};\n","export default feature =>\n  `<div class=\"popup-header\">\n    <h3>\n        <a\n          href=\"${feature.properties.link}\"\n          >\n          ${feature.properties.Estación}\n        </a>\n    </h3>\n    <div class=\"popup-image\">\n        <a\n          href=\"${feature.properties.link}\"\n          >\n          <img\n            src=\"${feature.properties.Image}\"\n            alt=\"Image del Estación ${feature.properties.Estación}\"\n          />\n        </a>\n      \n    </div>\n  </div>\n  <div class=\"popup-content\">\n    <div class=\"popup-description\">\n      <p>${feature.properties.description}</p>\n    </div>\n    <a\n      class=\"popup-button\"\n      href=\"${feature.properties.link}\"\n      >\n      Más informacíon\n    </a>\n  </div>\n  `;\n","export default symbolTypes =>\n  `<div>\n\t    <h4>Puestos Estaciónes y Tourismos</h4>\n\t\t\t<div id=\"legend-items\">\n          ${symbolTypes\n            .map(\n              symbolType => `<div class=\"legend-item active\" id=\"${\n                symbolType.name\n              }\" onClick=\"handleFilter('${symbolType.name}', '${symbolType.type || 'symbol'}')\">\n                  <span class=\"legend-key\" style=\"background-color: ${symbolType.color}\"></span>\n                  <span class=\"label\">${symbolType.label}</span>\n                </div>`\n            )\n            .join('')}\n          <div onClick=\"noFilter()\">Toggle Off Filters</div>\n\t\t\t</div>\n\t</div>`;\n","/* eslint-disable no-irregular-whitespace */\nexport default () =>\n  `<div class=\"mapboxgl-ctrl mapboxgl-ctrl-group\">\n    <button class=\"mapboxgl-ctrl-icon mapboxgl-ctrl-compass\" type=\"button\" aria-label=\"Reset North\"> \n        <span class=\"mapboxgl-ctrl-compass-arrow\" style=\"transform: rotate(0deg);\"></span> \n      </button> \n    </div>`;\n","/* global mapboxgl */\n\nimport config from './config';\nimport popupComponent from './components/popup';\nimport legendComponent from './components/legend';\nimport compassComponent from './components/compass';\nimport './styles/index.scss';\n\nconst { ACCESS_TOKEN, MAP, LAYER_ID, ANIMATION_DURATION, SOURCE_TYPES, LAYERS } = config;\n\nconst DEFAULT_MAP = {\n  container: 'map'\n};\n\nmapboxgl.accessToken = ACCESS_TOKEN;\n\n// instantiate the map instance\nconst map = new mapboxgl.Map(\n  // Set defaults, allow the config to override\n  Object.assign(DEFAULT_MAP, MAP)\n);\n\nwindow.map = map;\n\n// HANDLE POPUPS\n\nconst popup = new mapboxgl.Popup();\n\n// Create a mapboxgl.Popup from the default popup component.\nconst showPopup = feature => {\n  popup\n    .setLngLat(feature.geometry.coordinates)\n    .setHTML(popupComponent(feature))\n    .addTo(map);\n  popup.on('close', () => {\n    map.flyTo({\n      center: DEFAULT_MAP.center,\n      duration: ANIMATION_DURATION\n    });\n  });\n\n  return popup;\n};\n\n// HANDLE MAP EVENTS\n\nmap.on('click', LAYER_ID, e => {\n  const feature = e.features[0];\n  setTimeout(() => {\n    map.flyTo({\n      center: feature.geometry.coordinates,\n      duration: ANIMATION_DURATION\n    });\n    showPopup(feature);\n  }, 200);\n});\n\n//FULL SCREEN MODE\n\nmap.addControl(new mapboxgl.FullscreenControl());\n\n// function createLegend() {\n//  const legendEl\n//}\n\n//Create Compass Button that Flys to Center\nfunction createCompass() {\n  const leftEl = document.querySelector('.mapboxgl-ctrl-bottom-left');\n  const compass = document.createElement('div');\n\n  compass.innerHTML = compassComponent();\n\n  compass.onclick = () => {\n    map.flyTo({\n      center: DEFAULT_MAP.center\n    });\n  };\n  leftEl.appendChild(compass);\n}\n\nlet state = {};\n\nmap.on('load', () => {\n  const nav = new mapboxgl.NavigationControl({ showCompass: false });\n  map.addControl(nav, 'top-left');\n  map.scrollZoom.disable();\n  createCompass();\n\n  const layerList = map.getStyle().layers;\n  let filteredLayers = layerList.filter(layer => {\n    const layerName = layer.id;\n    if (layerName.substring(0, 7) === 'toggle-' && layerName !== 'toggle-turismo') {\n      return true;\n    }\n    return false;\n  });\n\n  filteredLayers = filteredLayers.map(layer => {\n    return {\n      name: layer.id,\n      label: LAYERS[layer.id] ? LAYERS[layer.id].label : layer.id.substring(7),\n      type: 'layer',\n      color: LAYERS[layer.id] ? LAYERS[layer.id].color : 'darkgrey'\n    };\n  });\n  const legend = document.getElementById(`legend`);\n  legend.innerHTML = legendComponent([...SOURCE_TYPES, ...filteredLayers]);\n\n  // HANDLE MAP LOAD\n  window.handleFilter = (layerOrSymbolType, type = null) => {\n    state[layerOrSymbolType] = !state[layerOrSymbolType];\n    const isToggledOn = state[layerOrSymbolType];\n    // Toggle Active Class\n    const legendItem = document.getElementById(layerOrSymbolType);\n    legendItem.classList.toggle('active');\n    // If Symbol, toggle for the symbol in the layer filter\n    if (type === 'symbol') {\n      const activeFilters = Object.keys(state).filter(key => state[key]);\n      map.setFilter(LAYER_ID, [isToggledOn ? 'in' : '!in', 'symbol', ...activeFilters]);\n      return;\n    }\n    // Toggle Layers\n    map.setLayoutProperty(layerOrSymbolType, 'visibility', isToggledOn ? 'none' : 'visible');\n    return;\n  };\n\n  window.noFilter = () => {\n    map.setFilter(LAYER_ID, null);\n    filteredLayers.map(layer => map.setLayoutProperty(layer.name, 'visibility', 'visible'));\n    state = {};\n    document.querySelector('.legend-item').classList.add('active');\n  };\n});\n\n// Press Command to Scrollzoom\ndocument.body.addEventListener('keydown', function(event) {\n  const { metaKey, ctrlKey } = event;\n  if (metaKey || ctrlKey) {\n    map.scrollZoom.enable();\n  }\n});\ndocument.body.addEventListener('keyup', function(event) {\n  const { metaKey, ctrlKey } = event;\n  if (metaKey || ctrlKey) {\n    map.scrollZoom.disable();\n  }\n});\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}